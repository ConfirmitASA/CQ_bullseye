<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="customSettingsStyles.css"/>
    <script src="custom-question.js"></script>
</head>
<body>
<div class="node-properties__key-properties">
    <div class="node-property">
        <label class="node-property__label" for="size">Bullseye size</label>
        <input class="form-control input-sm form-input form-input--8ch" type="text" id="size"/>
    </div>
    <div class="node-property">
        <label class="node-property__label" for="centerText">Center text</label>
        <input class="form-control input-sm form-input form-input--8ch" type="text" id="centerText"/>
    </div>
    <div class="node-property">
        <label class="node-property__label" for="maxIconSize">Maximum size of icons</label>
        <input class="form-control input-sm form-input form-input--8ch" type="text" id="maxIconSize"/>
    </div>
    <div class="node-property">
        <div class="co-toggle ">
            <input class="co-toggle__input" type="checkbox" id="atLeastOneRequired"/>
            <label class="node-property__label node-property__label--checkbox" for="atLeastOneRequired">
                <div class="icon icon-checkbox co-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="#C6C6C6" d="M2 2h12v12H2z"></path><path fill="#FFFFFF" d="M3 3h10v10H3z"></path><path d="M6 6L5 7l3 4h1l7-9-1-1-6.5 7L6 6z"></path></svg>
                    <span>At least one answer is requested</span>
                </div>
            </label>
    </div>
        <div class="node-property">
            <div class="co-toggle ">
                <input class="co-toggle__input" type="checkbox" id="centerIsActive"/>
                <label class="node-property__label node-property__label--checkbox" for="centerIsActive">
                    <div class="icon icon-checkbox co-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill="#C6C6C6" d="M2 2h12v12H2z"></path><path fill="#FFFFFF" d="M3 3h10v10H3z"></path><path d="M6 6L5 7l3 4h1l7-9-1-1-6.5 7L6 6z"></path></svg>
                        <span>Make Center Active</span>
                    </div>
                </label>
            </div>
        </div>
    </div>
</div>
<script>
	let sizeInput = document.getElementById('size');
    let maxIconSizeInput = document.getElementById('maxIconSize');
    let centerTextInput = document.getElementById('centerText');
    let requiredToggle = document.getElementById('atLeastOneRequired');
    let centerIsActive = document.getElementById('centerIsActive');

	function setValues(settings) {
        sizeInput.value = settings.sizeSetting;
        maxIconSizeInput.value = settings.maxIconSizeSetting;
        centerTextInput.value = settings.centerTextSetting;
        requiredToggle.checked = settings.requiredSetting;
        centerIsActive.checked = settings.centerIsActiveSetting;
	}	

	function saveChanges() {
		let settings = { sizeSetting: sizeInput.value,
                            maxIconSizeSetting: maxIconSizeInput.value,
                            centerTextSetting: centerTextInput.value,
                            requiredSetting: requiredToggle.checked,
                            centerIsActiveSetting: centerIsActive.checked};
		//var hasError = inputElement.value === '';
        let hasError = false;
		customQuestion.saveChanges(settings, hasError);
	}

	customQuestion.onSettingsReceived = setValues;

    sizeInput.addEventListener('change', saveChanges);
    maxIconSizeInput.addEventListener('change', saveChanges);
    centerTextInput.addEventListener('change', saveChanges);
    requiredToggle.addEventListener('change', saveChanges);
    centerIsActive.addEventListener('change', saveChanges);
</script>
</body>
</html>